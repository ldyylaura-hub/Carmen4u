# 构建“卡比论坛” (Carmen Forum) 计划

目前的 Community 页面只是一个简单的留言板。为了升级成真正的论坛，我们需要进行以下大改造：

## 1. 数据库升级 (Database Setup)
我们需要创建两个新的数据表来存储帖子和回复：
*   **`forum_posts` (帖子表)**:
    *   标题 (title)
    *   内容 (content)
    *   作者 (user_id)
    *   分类 (category) - 例如：闲聊、美图、活动
    *   浏览量 (view_count) & 点赞数 (like_count)
*   **`forum_replies` (回复表)**:
    *   关联帖子 (post_id)
    *   回复内容 (content)
    *   作者 (user_id)

## 2. 页面与功能开发 (Frontend Development)
我们将重写 `Community.tsx`，将其分为三个主要部分：
1.  **论坛首页 (Forum List)**:
    *   展示帖子列表，包含标题、作者头像、发布时间、评论数。
    *   支持按“最新”或“最热”排序。
    *   右下角添加悬浮按钮：“发布新帖”。
2.  **帖子详情页 (Post Detail)**:
    *   点击帖子进入详情。
    *   展示完整的帖子内容。
    *   下方展示所有用户的回复（楼层）。
    *   底部带有回复输入框。
3.  **发布/发帖弹窗 (Create Post)**:
    *   支持输入标题、正文。
    *   支持选择标签/分类。

## 3. 实施步骤
1.  生成 SQL 脚本并在 Supabase 中运行，创建表结构。
2.  更新 TypeScript 类型定义。
3.  开发前端组件：帖子列表卡片、详情页模态框、发帖表单。
4.  联调数据接口，实现发帖、看帖、回帖功能。

准备好开始打造这个全新的交流空间了吗？🚀